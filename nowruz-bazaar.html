<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nowruz Bazaar 2026 - Booth Sponsorship</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
        
        .booth-btn {
            cursor: pointer;
            transition: all 0.2s;
            position: absolute;
            border: 0.5px solid rgba(0, 0, 0, 0.3);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .booth-btn:hover {
            background-color: #000000 !important;
            color: #FFFFFF !important;
            border-color: #000000;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .booth-btn.selected {
            background-color: #2563eb !important;
            color: #FFFFFF !important;
            border-color: #1d4ed8;
            border-width: 2px;
            z-index: 99;
        }
        
        #map-container {
            cursor: grab;
            overflow: hidden;
            position: relative;
            background: #f3f4f6;
            touch-action: none;
        }
        
        #map-container:active {
            cursor: grabbing;
        }
        
        #map-wrapper {
            transform-origin: 0 0;
            transition: transform 0.1s ease-out;
        }
        
        .zoom-controls {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 200;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .zoom-btn {
            width: 40px;
            height: 40px;
            background: white;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            font-weight: bold;
            color: #374151;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: all 0.2s;
        }
        
        .zoom-btn:hover {
            background: #f3f4f6;
            border-color: #9ca3af;
        }
        
        .zoom-btn:active {
            transform: scale(0.95);
        }
        
        .modal { 
            display: none; 
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.5); 
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active { 
            display: flex;
        }
        
        .zoom-info {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 14px;
            color: #6b7280;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 200;
        }
    </style>
</head>
<body class="bg-gray-50">

    <div class="min-h-screen">
        <!-- Header -->
        <div class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white py-8">
            <div class="container mx-auto px-4">
                <a href="index.html" class="mb-4 text-white hover:text-blue-200 transition inline-block">
                    ‚Üê Back to Home
                </a>
                <h1 class="text-4xl font-bold mb-2">Nowruz Bazaar 2026</h1>
                <div class="flex flex-wrap gap-4 text-lg">
                    <div>üìÖ March 14-15, 2026</div>
                    <div>üìç 2150 Wilson Ave, Port Coquitlam</div>
                </div>
            </div>
        </div>

        <div class="container mx-auto px-4 py-8">
            <!-- Interactive Map -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="mb-4 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-800">Select Your Booth</h2>
                        <p class="text-gray-600">ÿßŸÜÿ™ÿÆÿßÿ® ÿ∫ÿ±ŸÅŸá - Use zoom controls and click on any booth</p>
                    </div>
                    <div class="text-right text-sm text-gray-600">
                        <div>üí° <strong>Zoom:</strong> Use +/- buttons or scroll</div>
                        <div>üëÜ <strong>Pan:</strong> Click and drag the map</div>
                    </div>
                </div>
                
                <div id="map-container" class="relative w-full bg-gray-100 rounded-lg overflow-hidden shadow-inner" style="height: 800px;">
                    <!-- Zoom Controls -->
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomIn()">+</button>
                        <button class="zoom-btn" onclick="zoomReset()">‚äô</button>
                        <button class="zoom-btn" onclick="zoomOut()">‚àí</button>
                    </div>
                    
                    <!-- Zoom Info -->
                    <div class="zoom-info">
                        Zoom: <span id="zoom-level">100%</span>
                    </div>
                    
                    <div id="map-wrapper" style="position: relative; width: 100%; transform-origin: 0 0;">
                        <img src="https://files.catbox.moe/mom7va.png" alt="Nowruz Bazaar Floor Plan" class="w-full h-auto" id="mapImage" draggable="false">
                        <div id="booths-overlay" style="position: absolute; inset: 0;"></div>
                    </div>
                </div>

                <!-- Legend -->
                <div class="mt-6 grid grid-cols-2 md:grid-cols-5 gap-4 text-sm">
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(26, 79, 123); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>L Series</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(121, 203, 255); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>M Series</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(255, 127, 39); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>C Series</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(34, 176, 76); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>T Tables</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(237, 92, 92); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>V Series</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(239, 212, 123); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>A Series</span>
                    </div>
                    <div class="flex items-center gap-2">
                        <div class="w-6 h-6 rounded" style="background: rgb(163, 73, 164); border: 0.5px solid rgba(0,0,0,0.3);"></div>
                        <span>STAGE</span>
                    </div>
                </div>
            </div>

            <!-- Booth Explanations -->
            <div class="grid md:grid-cols-2 gap-6 mb-8">
                <div class="bg-blue-50 rounded-lg p-6">
                    <h3 class="text-lg font-bold text-blue-900 mb-3">üè¢ VIP Hall</h3>
                    <div class="space-y-3 text-sm text-gray-700">
                        <div class="bg-white p-3 rounded">
                            <strong>Booths (M1-M12):</strong> $1,400 CAD<br>
                            Size: 3m x 3m | 1 Table, 2 Chairs
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>Circular Tables (C1-C20):</strong> $800 CAD<br>
                            Size: 150cm x 150cm (Diameter) | 2 Chairs
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>Elite Booths (A1, A2):</strong> $1,900 CAD<br>
                            Size: 6m x 3m | 2 Tables, 4 Chairs
                        </div>
                    </div>
                </div>

                <div class="bg-green-50 rounded-lg p-6">
                    <h3 class="text-lg font-bold text-green-900 mb-3">üèõÔ∏è Main Hall & Outside</h3>
                    <div class="space-y-3 text-sm text-gray-700">
                        <div class="bg-white p-3 rounded">
                            <strong>Main Hall Booths (L1-L18):</strong> $1,000 CAD<br>
                            Size: 3m x 3m | 1 Table, 2 Chairs
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>Tables (T1-T33):</strong> $600 CAD<br>
                            Size: 180cm x 75cm | 2 Chairs
                        </div>
                        <div class="bg-white p-3 rounded">
                            <strong>Outside Food Tents (V1-V5):</strong> $1,500 CAD<br>
                            Size: 3m x 3m | 1 Table, 2 Chairs
                        </div>
                    </div>
                </div>
            </div>

            <!-- Important Information -->
            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                <div class="flex">
                    <div class="flex-shrink-0">
                        <svg class="h-5 w-5 text-yellow-400" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <div class="ml-3">
                        <p class="text-sm text-yellow-700">
                            <strong>‚è∞ Important Deadline:</strong> All sponsorship applications and payments must be submitted by <strong>February 1, 2026</strong>. Space is limited and booths are assigned on a first-come, first-served basis.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Contact Info -->
            <div class="mt-8 bg-blue-50 rounded-xl p-6">
                <h2 class="text-2xl font-bold text-gray-800 mb-4">Contact Information</h2>
                <div class="grid md:grid-cols-3 gap-4">
                    <div>
                        <p class="font-semibold text-gray-700">Marketing Team:</p>
                        <p class="text-gray-600">778-888-9373 | 778-888-7472</p>
                    </div>
                    <div>
                        <p class="font-semibold text-gray-700">Email:</p>
                        <p class="text-gray-600"><a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="fa979b88919f8e93949dd48e999399ba9d979b9396d4999597">[email&#160;protected]</a></p>
                    </div>
                    <div>
                        <p class="font-semibold text-gray-700">Deadline:</p>
                        <p class="text-red-600 font-semibold">February 1, 2026</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="boothModal" class="modal">
        <div class="bg-white rounded-xl max-w-md w-full p-8 relative mx-4 shadow-2xl">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600 text-2xl">‚úï</button>
            <h3 id="modalTitle" class="text-2xl font-bold text-gray-800 mb-4"></h3>
            <div id="modalContent" class="space-y-3 mb-6"></div>
            <button onclick="proceedToPayment()" class="w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition">
                Proceed to Payment
            </button>
            <p class="text-xs text-gray-500 text-center mt-3">You'll receive contract and instructions via email</p>
        </div>
    </div>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
const nowruzBooths = [
    { id: 'A1', x: 0.71, y: 63.75, w: 5.05, h: 19.17, color: 'rgb(239, 212, 123)' },
    { id: 'A2', x: 22.85, y: 63.75, w: 5.05, h: 16.31, color: 'rgb(239, 212, 123)' },
    { id: 'C1', x: 16.39, y: 71.57, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C2', x: 16.39, y: 67.66, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C3', x: 16.39, y: 63.75, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C4', x: 16.39, y: 52.15, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C5', x: 16.39, y: 48.25, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C6', x: 16.39, y: 44.34, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C7', x: 16.39, y: 40.43, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C8', x: 16.39, y: 36.53, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C9', x: 16.39, y: 32.62, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C10', x: 16.39, y: 28.72, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C11', x: 10.71, y: 28.72, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C12', x: 10.71, y: 32.62, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C13', x: 10.71, y: 36.53, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C14', x: 10.71, y: 40.43, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C15', x: 10.71, y: 44.34, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C16', x: 10.71, y: 48.25, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C17', x: 10.71, y: 52.15, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C18', x: 10.71, y: 63.75, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C19', x: 10.71, y: 67.66, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'C20', x: 10.71, y: 71.57, w: 2.23, h: 3.42, color: 'rgb(255, 127, 39)' },
    { id: 'L1', x: 80.86, y: 74.79, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L2', x: 81.78, y: 67.86, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L3', x: 82.67, y: 61.01, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L4', x: 83.56, y: 54.09, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L5', x: 84.48, y: 47.12, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L6', x: 81.91, y: 26.46, w: 4.94, h: 7.6, rotation: 9.02, color: 'rgb(26, 79, 123)' },
    { id: 'L7', x: 76.96, y: 25.21, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L8', x: 72.02, y: 23.96, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L9', x: 67.07, y: 22.63, w: 4.94, h: 7.6, rotation: 9.02, color: 'rgb(26, 79, 123)' },
    { id: 'L10', x: 62.12, y: 21.43, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L11', x: 57.07, y: 20.14, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L12', x: 52.12, y: 18.81, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L13', x: 47.17, y: 17.6, w: 4.94, h: 7.6, rotation: 8.98, color: 'rgb(26, 79, 123)' },
    { id: 'L14', x: 39.08, y: 29.72, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L15', x: 38.19, y: 36.65, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L16', x: 37.3, y: 43.5, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L17', x: 36.39, y: 50.42, w: 5.07, h: 7.8, rotation: 11.13, color: 'rgb(26, 79, 123)' },
    { id: 'L18', x: 34.81, y: 63.46, w: 5.04, h: 7.75, rotation: 10.57, color: 'rgb(26, 79, 123)' },
    { id: 'M1', x: 23.59, y: 49.7, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M2', x: 23.59, y: 42.61, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M3', x: 23.59, y: 35.52, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M4', x: 23.59, y: 28.43, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M5', x: 19.27, y: 15.55, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M6', x: 14.66, y: 15.55, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M7', x: 10.1, y: 15.55, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M8', x: 5.5, y: 15.55, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M9', x: 0.71, y: 28.43, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M10', x: 0.71, y: 35.52, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M11', x: 0.71, y: 42.61, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'M12', x: 0.71, y: 49.7, w: 4.32, h: 6.65, color: 'rgb(121, 203, 255)' },
    { id: 'STAGE', x: 50.89, y: 63.19, w: 15.97, h: 14.81, rotation: 9.62, color: 'rgb(163, 73, 164)' },
    { id: 'T1', x: 72.69, y: 77.93, w: 3.12, h: 2.36, rotation: 9.16, color: 'rgb(34, 176, 76)' },
    { id: 'T2', x: 69.43, y: 77.13, w: 3.12, h: 2.36, rotation: 9.16, color: 'rgb(34, 176, 76)' },
    { id: 'T3', x: 66.18, y: 76.32, w: 3.12, h: 2.36, rotation: 9.16, color: 'rgb(34, 176, 76)' },
    { id: 'T4', x: 77.06, y: 64.87, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T5', x: 77.7, y: 59.69, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T6', x: 78.33, y: 54.5, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T7', x: 78.97, y: 49.32, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T8', x: 77.58, y: 46.39, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T9', x: 74.34, y: 45.45, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T10', x: 71.1, y: 44.51, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T11', x: 67.85, y: 43.57, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T12', x: 64.61, y: 42.63, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T13', x: 61.37, y: 41.69, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T14', x: 58.13, y: 40.75, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T15', x: 54.89, y: 39.81, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T16', x: 51.65, y: 38.87, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T17', x: 48.41, y: 37.93, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T18', x: 48.73, y: 32.39, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T19', x: 49.57, y: 29.75, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T20', x: 52.81, y: 30.69, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T21', x: 56.05, y: 31.63, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T22', x: 59.29, y: 32.57, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T23', x: 62.53, y: 33.51, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T24', x: 65.78, y: 34.45, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T25', x: 69.02, y: 35.39, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T26', x: 72.26, y: 36.33, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T27', x: 75.5, y: 37.27, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T28', x: 78.74, y: 38.21, w: 3.13, h: 2.47, rotation: 10.68, color: 'rgb(34, 176, 76)' },
    { id: 'T29', x: 79.93, y: 41.44, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T30', x: 47.77, y: 40.27, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T31', x: 47.13, y: 45.45, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T32', x: 46.49, y: 50.64, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'T33', x: 45.86, y: 55.82, w: 1.61, h: 4.82, rotation: 100.68, color: 'rgb(34, 176, 76)' },
    { id: 'V1', x: 43.01, y: 79.02, w: 5.6, h: 7.78, rotation: 9.17, color: 'rgb(237, 92, 92)' },
    { id: 'V2', x: 49.11, y: 80.43, w: 5.6, h: 7.78, rotation: 9.17, color: 'rgb(237, 92, 92)' },
    { id: 'V3', x: 55.2, y: 81.85, w: 5.6, h: 7.78, rotation: 9.17, color: 'rgb(237, 92, 92)' },
    { id: 'V4', x: 61.3, y: 83.27, w: 5.6, h: 7.78, rotation: 9.17, color: 'rgb(237, 92, 92)' },
    { id: 'V5', x: 67.4, y: 84.69, w: 5.6, h: 7.78, rotation: 9.17, color: 'rgb(237, 92, 92)' }
];

const boothPricing = {
    M: { 
        location: 'VIP Hall',
        name: 'VIP Hall Booths',
        booths: 'M1-M12',
        price: '$1,400 CAD',
        size: '3m x 3m',
        furniture: '1 Table, 2 Chairs'
    },
    C: { 
        location: 'VIP Hall',
        name: 'Circular Tables',
        booths: 'C1-C20',
        price: '$800 CAD',
        size: '150cm x 150cm (Diameter)',
        furniture: '2 Chairs'
    },
    A: { 
        location: 'VIP Hall',
        name: 'Elite Booths',
        booths: 'A1, A2',
        price: '$1,900 CAD',
        size: '6m x 3m',
        furniture: '2 Tables, 4 Chairs'
    },
    L: { 
        location: 'Main Hall',
        name: 'Main Hall Booths',
        booths: 'L1-L18',
        price: '$1,000 CAD',
        size: '3m x 3m',
        furniture: '1 Table, 2 Chairs'
    },
    T: { 
        location: 'Main Hall',
        name: 'Tables',
        booths: 'T1-T33',
        price: '$600 CAD',
        size: '180cm x 75cm',
        furniture: '2 Chairs'
    },
    V: { 
        location: 'Outside Tent',
        name: 'Food Tents',
        booths: 'V1-V5',
        price: '$1,500 CAD',
        size: '3m x 3m',
        furniture: '1 Table, 2 Chairs'
    },
    S: { 
        location: 'Main Hall',
        name: 'Stage Area',
        booths: 'STAGE',
        price: 'Contact for Pricing',
        size: 'Custom',
        furniture: 'N/A'
    }
};

// Zoom and pan state
let currentZoom = 1;
let currentX = 0;
let currentY = 0;
let isDragging = false;
let startX, startY;
let selectedBooth = null;

function renderBooths() {
    const overlay = document.getElementById('booths-overlay');
    overlay.innerHTML = '';
    
    nowruzBooths.forEach(booth => {
        const btn = document.createElement('button');
        btn.className = 'booth-btn';
        btn.dataset.boothId = booth.id;
        
        btn.style.left = `${booth.x}%`;
        btn.style.top = `${booth.y}%`;
        btn.style.width = `${booth.w}%`;
        btn.style.height = `${booth.h}%`;
        btn.style.background = booth.color;
        
        // Text color: white for STAGE, L series, and T series; black for others
        if (booth.id === 'STAGE' || booth.id.startsWith('L') || booth.id.startsWith('T')) {
            btn.style.color = '#FFFFFF';
        } else {
            btn.style.color = '#000000';
        }
        
        // No text shadow
        btn.style.textShadow = 'none';
        btn.style.fontWeight = '700';
        
        // Make C series circular
        if (booth.id.startsWith('C')) {
            btn.style.borderRadius = '50%';
        }
        
        // Font sizes - T and C booths bigger now
        if (booth.id.startsWith('T')) {
            btn.style.fontSize = 'clamp(8px, 0.8vw, 12px)';
        } else if (booth.id.startsWith('C')) {
            btn.style.fontSize = 'clamp(8px, 0.8vw, 12px)';
        } else if (booth.id === 'STAGE') {
            btn.style.fontSize = 'clamp(12px, 1.5vw, 20px)';
        } else {
            btn.style.fontSize = 'clamp(8px, 1vw, 14px)';
        }
        
        // Apply rotation
        let finalRotation = booth.rotation || 0;
        
        // Special rotation for vertical T booths - add 90¬∞ counter-clockwise
        const verticalTBooths = ['T4', 'T5', 'T6', 'T7', 'T18', 'T29', 'T30', 'T31', 'T32', 'T33'];
        if (verticalTBooths.includes(booth.id)) {
            finalRotation = (booth.rotation || 0) - 90;
        }
        
        if (finalRotation !== 0) {
            btn.style.transform = `rotate(${finalRotation}deg)`;
            btn.style.transformOrigin = 'center center';
        }
        
        btn.textContent = booth.id;
        btn.onclick = (e) => {
            e.stopPropagation();
            selectBooth(booth);
        };
        overlay.appendChild(btn);
    });
}

function selectBooth(booth) {
    // Remove previous selection
    document.querySelectorAll('.booth-btn').forEach(btn => {
        btn.classList.remove('selected');
    });
    
    // Add selection to clicked booth
    const buttons = document.querySelectorAll(`[data-booth-id="${booth.id}"]`);
    buttons.forEach(btn => btn.classList.add('selected'));
    
    selectedBooth = booth;
    showBoothDetails(booth);
}

function showBoothDetails(booth) {
    const modal = document.getElementById('boothModal');
    const title = document.getElementById('modalTitle');
    const content = document.getElementById('modalContent');
    
    const prefix = booth.id.match(/[A-Z]+/)[0];
    const boothInfo = boothPricing[prefix];
    
    title.textContent = `Booth ${booth.id}`;
    content.innerHTML = `
        <p class="text-gray-700"><strong>Location:</strong> ${boothInfo.location}</p>
        <p class="text-gray-700"><strong>Price:</strong> <span class="text-blue-600 font-bold text-xl">${boothInfo.price}</span></p>
        <p class="text-gray-700"><strong>Size:</strong> ${boothInfo.size}</p>
        <p class="text-gray-700"><strong>Furniture:</strong> ${boothInfo.furniture}</p>
    `;
    
    modal.classList.add('active');
}

function closeModal() {
    document.getElementById('boothModal').classList.remove('active');
}

function proceedToPayment() {
    if (selectedBooth) {
        alert(`Processing payment for Booth ${selectedBooth.id}. You will receive contract and instructions via email.`);
        closeModal();
    }
}

// Zoom functions
function zoomIn() {
    const oldZoom = currentZoom;
    currentZoom = Math.min(currentZoom + 0.3, 3);
    
    const container = document.getElementById('map-container');
    const centerX = container.offsetWidth / 2;
    const centerY = container.offsetHeight / 2;
    
    const scale = currentZoom / oldZoom;
    currentX = centerX - (centerX - currentX) * scale;
    currentY = centerY - (centerY - currentY) * scale;
    
    updateTransform();
}

function zoomOut() {
    const oldZoom = currentZoom;
    currentZoom = Math.max(currentZoom - 0.3, 1);
    
    if (currentZoom === 1) {
        currentX = 0;
        currentY = 0;
    } else {
        const container = document.getElementById('map-container');
        const centerX = container.offsetWidth / 2;
        const centerY = container.offsetHeight / 2;
        
        const scale = currentZoom / oldZoom;
        currentX = centerX - (centerX - currentX) * scale;
        currentY = centerY - (centerY - currentY) * scale;
    }
    
    updateTransform();
}

function zoomReset() {
    currentZoom = 1;
    currentX = 0;
    currentY = 0;
    updateTransform();
}

function updateTransform() {
    const wrapper = document.getElementById('map-wrapper');
    const container = document.getElementById('map-container');
    
    const wrapperWidth = wrapper.offsetWidth * currentZoom;
    const wrapperHeight = wrapper.offsetHeight * currentZoom;
    const containerWidth = container.offsetWidth;
    const containerHeight = container.offsetHeight;
    
    const maxX = 0;
    const minX = Math.min(0, containerWidth - wrapperWidth);
    const maxY = 0;
    const minY = Math.min(0, containerHeight - wrapperHeight);
    
    currentX = Math.max(minX, Math.min(maxX, currentX));
    currentY = Math.max(minY, Math.min(maxY, currentY));
    
    wrapper.style.transform = `translate(${currentX}px, ${currentY}px) scale(${currentZoom})`;
    document.getElementById('zoom-level').textContent = Math.round(currentZoom * 100) + '%';
}

// Pan functionality
const container = document.getElementById('map-container');

container.addEventListener('mousedown', (e) => {
    if (!e.target.classList.contains('booth-btn')) {
        isDragging = true;
        startX = e.clientX - currentX;
        startY = e.clientY - currentY;
        container.style.cursor = 'grabbing';
        e.preventDefault();
    }
});

document.addEventListener('mousemove', (e) => {
    if (isDragging) {
        currentX = e.clientX - startX;
        currentY = e.clientY - startY;
        updateTransform();
    }
});

document.addEventListener('mouseup', () => {
    if (isDragging) {
        isDragging = false;
        container.style.cursor = 'grab';
    }
});

// Zoom with scroll wheel
container.addEventListener('wheel', (e) => {
    e.preventDefault();
    
    const oldZoom = currentZoom;
    
    if (e.deltaY < 0) {
        currentZoom = Math.min(currentZoom + 0.1, 3);
    } else {
        currentZoom = Math.max(currentZoom - 0.1, 1);
    }
    
    if (currentZoom === 1) {
        currentX = 0;
        currentY = 0;
    } else if (oldZoom !== currentZoom) {
        const rect = container.getBoundingClientRect();
        const mouseX = e.clientX - rect.left;
        const mouseY = e.clientY - rect.top;
        
        const scale = currentZoom / oldZoom;
        currentX = mouseX - (mouseX - currentX) * scale;
        currentY = mouseY - (mouseY - currentY) * scale;
    }
    
    updateTransform();
});

// Touch support for mobile
let touchStartDistance = 0;
let lastTouchX = 0;
let lastTouchY = 0;

container.addEventListener('touchstart', (e) => {
    if (e.touches.length === 2) {
        e.preventDefault();
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        touchStartDistance = Math.sqrt(dx * dx + dy * dy);
    } else if (e.touches.length === 1) {
        lastTouchX = e.touches[0].clientX;
        lastTouchY = e.touches[0].clientY;
        isDragging = true;
        startX = e.touches[0].clientX - currentX;
        startY = e.touches[0].clientY - currentY;
    }
});

container.addEventListener('touchmove', (e) => {
    if (e.touches.length === 2 && touchStartDistance > 0) {
        e.preventDefault();
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const distance = Math.sqrt(dx * dx + dy * dy);
        
        const oldZoom = currentZoom;
        const scale = distance / touchStartDistance;
        currentZoom = Math.min(Math.max(currentZoom * scale, 1), 3);
        touchStartDistance = distance;
        
        const rect = container.getBoundingClientRect();
        const centerX = (e.touches[0].clientX + e.touches[1].clientX) / 2 - rect.left;
        const centerY = (e.touches[0].clientY + e.touches[1].clientY) / 2 - rect.top;
        
        const zoomScale = currentZoom / oldZoom;
        currentX = centerX - (centerX - currentX) * zoomScale;
        currentY = centerY - (centerY - currentY) * zoomScale;
        
        updateTransform();
    } else if (isDragging && e.touches.length === 1) {
        e.preventDefault();
        currentX = e.touches[0].clientX - startX;
        currentY = e.touches[0].clientY - startY;
        updateTransform();
    }
});

container.addEventListener('touchend', () => {
    isDragging = false;
    touchStartDistance = 0;
});

// Modal close on background click
document.getElementById('boothModal').addEventListener('click', (e) => {
    if (e.target.id === 'boothModal') closeModal();
});

// Initialize
window.addEventListener('load', () => {
    renderBooths();
    updateTransform();
});
window.addEventListener('resize', () => {
    renderBooths();
    updateTransform();
});
    </script>
</body>
</html>
